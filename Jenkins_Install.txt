#!/bin/bash

#Update Packages
yum install update -y

#install java
yum install java-1.8.0 -y

#Check and select one out of multiple java versions available
/usr/sbin/alternatives --config java

#Download latest Jenkins code package
wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo

#Import a key file from Jenkins-CI to enable installationg from the package
rpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key

#Install Jenkins
yum install jenkins -y

#To start jenkins on a diff port
#Update port number in /etc/sysconfig/jenkins
service jenkins start
sleep 5
#To fetch initial admin password

cd /var/lib/jenkins/secrets/
cat initialAdminPassword

